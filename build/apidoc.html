<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="http://github.com/tjfontaine/node-dns"

    >native-dns (v0.7.0)</a>
</h1>
<h4>Replacement for the core DNS module, includes server implementation</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns">module native-dns</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.A">
            function <span class="apidocSignatureSpan">native-dns.</span>A
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.AAAA">
            function <span class="apidocSignatureSpan">native-dns.</span>AAAA
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.CNAME">
            function <span class="apidocSignatureSpan">native-dns.</span>CNAME
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.MX">
            function <span class="apidocSignatureSpan">native-dns.</span>MX
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.NAPTR">
            function <span class="apidocSignatureSpan">native-dns.</span>NAPTR
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.NS">
            function <span class="apidocSignatureSpan">native-dns.</span>NS
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.PTR">
            function <span class="apidocSignatureSpan">native-dns.</span>PTR
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Question">
            function <span class="apidocSignatureSpan">native-dns.</span>Question
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request">
            function <span class="apidocSignatureSpan">native-dns.</span>Request
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.SOA">
            function <span class="apidocSignatureSpan">native-dns.</span>SOA
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.SRV">
            function <span class="apidocSignatureSpan">native-dns.</span>SRV
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.TLSA">
            function <span class="apidocSignatureSpan">native-dns.</span>TLSA
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.TXT">
            function <span class="apidocSignatureSpan">native-dns.</span>TXT
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.createServer">
            function <span class="apidocSignatureSpan">native-dns.</span>createServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.createTCPServer">
            function <span class="apidocSignatureSpan">native-dns.</span>createTCPServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.createUDPServer">
            function <span class="apidocSignatureSpan">native-dns.</span>createUDPServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.lookup">
            function <span class="apidocSignatureSpan">native-dns.</span>lookup
            <span class="apidocSignatureSpan">(domain, family, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet">
            function <span class="apidocSignatureSpan">native-dns.</span>packet
            <span class="apidocSignatureSpan">(socket)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolve">
            function <span class="apidocSignatureSpan">native-dns.</span>resolve
            <span class="apidocSignatureSpan">(domain, rrtype, ip, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolve4">
            function <span class="apidocSignatureSpan">native-dns.</span>resolve4
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolve6">
            function <span class="apidocSignatureSpan">native-dns.</span>resolve6
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolveCname">
            function <span class="apidocSignatureSpan">native-dns.</span>resolveCname
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolveMx">
            function <span class="apidocSignatureSpan">native-dns.</span>resolveMx
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolveNs">
            function <span class="apidocSignatureSpan">native-dns.</span>resolveNs
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolveSrv">
            function <span class="apidocSignatureSpan">native-dns.</span>resolveSrv
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.resolveTxt">
            function <span class="apidocSignatureSpan">native-dns.</span>resolveTxt
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.reverse">
            function <span class="apidocSignatureSpan">native-dns.</span>reverse
            <span class="apidocSignatureSpan">(ip, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>Request.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>client</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>consts</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>packet.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>pending</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>platform</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>server</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>BADNAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>BADRESP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>CONNREFUSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>DESTRUCTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>FORMERR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>NODATA</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>NOMEM</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>NOTFOUND</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>NOTIMP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>REFUSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>SERVFAIL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.</span>TIMEOUT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.Request">module native-dns.Request</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.Request">
            function <span class="apidocSignatureSpan">native-dns.</span>Request
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.super_">
            function <span class="apidocSignatureSpan">native-dns.Request.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.Request.prototype">module native-dns.Request.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype._send">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>_send
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.cancel">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>cancel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.done">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>done
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.error">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>error
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.handle">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>handle
            <span class="apidocSignatureSpan">(err, answer, cached)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.handleTimeout">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>handleTimeout
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.Request.prototype.send">
            function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>send
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.client">module native-dns.client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.Request">
            function <span class="apidocSignatureSpan">native-dns.client.</span>Request
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.Resolve">
            function <span class="apidocSignatureSpan">native-dns.client.</span>Resolve
            <span class="apidocSignatureSpan">(opts, cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.lookup">
            function <span class="apidocSignatureSpan">native-dns.client.</span>lookup
            <span class="apidocSignatureSpan">(domain, family, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolve">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolve
            <span class="apidocSignatureSpan">(domain, rrtype, ip, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolve4">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolve4
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolve6">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolve6
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveCname">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveCname
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveMx">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveMx
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveNs">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveNs
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveSrv">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveSrv
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveTlsa">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveTlsa
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.resolveTxt">
            function <span class="apidocSignatureSpan">native-dns.client.</span>resolveTxt
            <span class="apidocSignatureSpan">(domain, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.client.reverse">
            function <span class="apidocSignatureSpan">native-dns.client.</span>reverse
            <span class="apidocSignatureSpan">(ip, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.consts">module native-dns.consts</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.consts.nameToQtype">
            function <span class="apidocSignatureSpan">native-dns.consts.</span>nameToQtype
            <span class="apidocSignatureSpan">(n)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.consts.qtypeToName">
            function <span class="apidocSignatureSpan">native-dns.consts.</span>qtypeToName
            <span class="apidocSignatureSpan">(t)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>FAMILY_TO_QTYPE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>NAME_TO_QCLASS</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>NAME_TO_QTYPE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>NAME_TO_RCODE</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>QCLASS_TO_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>QTYPE_TO_FAMILY</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>QTYPE_TO_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">native-dns.consts.</span>RCODE_TO_NAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>BADNAME</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>BADRESP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>CONNREFUSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>DESTRUCTION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>FORMERR</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>NODATA</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>NOMEM</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>NOTFOUND</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>NOTIMP</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>REFUSED</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>SERVFAIL</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">native-dns.consts.</span>TIMEOUT</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.packet">module native-dns.packet</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet.packet">
            function <span class="apidocSignatureSpan">native-dns.</span>packet
            <span class="apidocSignatureSpan">(socket)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet.parse">
            function <span class="apidocSignatureSpan">native-dns.packet.</span>parse
            <span class="apidocSignatureSpan">(msg, socket)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet.super_">
            function <span class="apidocSignatureSpan">native-dns.packet.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet.write">
            function <span class="apidocSignatureSpan">native-dns.packet.</span>write
            <span class="apidocSignatureSpan">(buff, packet)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.packet.prototype">module native-dns.packet.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.packet.prototype.send">
            function <span class="apidocSignatureSpan">native-dns.packet.prototype.</span>send
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.pending">module native-dns.pending</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.pending.remove">
            function <span class="apidocSignatureSpan">native-dns.pending.</span>remove
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.pending.send">
            function <span class="apidocSignatureSpan">native-dns.pending.</span>send
            <span class="apidocSignatureSpan">(request)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.server">module native-dns.server</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.server.createServer">
            function <span class="apidocSignatureSpan">native-dns.server.</span>createServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.server.createTCPServer">
            function <span class="apidocSignatureSpan">native-dns.server.</span>createTCPServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.server.createUDPServer">
            function <span class="apidocSignatureSpan">native-dns.server.</span>createUDPServer
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.native-dns.utils">module native-dns.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.utils.TCPSocket">
            function <span class="apidocSignatureSpan">native-dns.utils.</span>TCPSocket
            <span class="apidocSignatureSpan">(socket)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.utils.UDPSocket">
            function <span class="apidocSignatureSpan">native-dns.utils.</span>UDPSocket
            <span class="apidocSignatureSpan">(socket, remote)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.native-dns.utils.reverseIP">
            function <span class="apidocSignatureSpan">native-dns.utils.</span>reverseIP
            <span class="apidocSignatureSpan">(ip)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns" id="apidoc.module.native-dns">module native-dns</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.A" id="apidoc.element.native-dns.A">
        function <span class="apidocSignatureSpan">native-dns.</span>A
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">A = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
var dns = require(&#x27;../dns&#x27;),
server = dns.createServer();

server.on(&#x27;request&#x27;, function (request, response) {
//console.log(request)
response.answer.push(dns.<span class="apidocCodeKeywordSpan">A</span>({
  name: request.question[0].name,
  address: &#x27;127.0.0.1&#x27;,
  ttl: 600,
}));
response.answer.push(dns.A({
  name: request.question[0].name,
  address: &#x27;127.0.0.2&#x27;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.AAAA" id="apidoc.element.native-dns.AAAA">
        function <span class="apidocSignatureSpan">native-dns.</span>AAAA
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">AAAA = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.CNAME" id="apidoc.element.native-dns.CNAME">
        function <span class="apidocSignatureSpan">native-dns.</span>CNAME
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">CNAME = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.MX" id="apidoc.element.native-dns.MX">
        function <span class="apidocSignatureSpan">native-dns.</span>MX
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">MX = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.NAPTR" id="apidoc.element.native-dns.NAPTR">
        function <span class="apidocSignatureSpan">native-dns.</span>NAPTR
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NAPTR = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.NS" id="apidoc.element.native-dns.NS">
        function <span class="apidocSignatureSpan">native-dns.</span>NS
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">NS = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.PTR" id="apidoc.element.native-dns.PTR">
        function <span class="apidocSignatureSpan">native-dns.</span>PTR
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">PTR = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Question" id="apidoc.element.native-dns.Question">
        function <span class="apidocSignatureSpan">native-dns.</span>Question
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Question = function (opts) {
  var q = {}, qtype;

  opts = opts || {};

  q.name = opts.name;

  qtype = opts.type || consts.NAME_TO_QTYPE.A;
  if (typeof(qtype) === &#x27;string&#x27; || qtype instanceof String)
    qtype = consts.nameToQtype(qtype.toUpperCase());

  if (!qtype || typeof(qtype) !== &#x27;number&#x27;)
    throw new Error(&#x22;Question type must be defined and be valid&#x22;);

  q.type = qtype;

  q.class = opts.class || consts.NAME_TO_QCLASS.IN;

  return q;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Beyond matching the upstream module, native-dns also provides a method for
customizing queries.

```javascript
var dns = require(&#x27;../dns&#x27;),
  util = require(&#x27;util&#x27;);

var question = dns.<span class="apidocCodeKeywordSpan">Question</span>({
  name: &#x27;www.google.com&#x27;,
  type: &#x27;A&#x27;,
});

var start = Date.now();

var req = dns.Request({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request" id="apidoc.element.native-dns.Request">
        function <span class="apidocSignatureSpan">native-dns.</span>Request
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Request = function (opts) {
  if (!(this instanceof Request)) return new Request(opts);

  this.question = opts.question;
  this.server = opts.server;

  if (typeof(this.server) === &#x27;string&#x27; || this.server instanceof String)
    this.server = { address: this.server, port: 53, type: &#x27;udp&#x27;};

  if (!this.server || !this.server.address || !net.isIP(this.server.address))
    throw new Error(&#x27;Server object must be supplied with at least address&#x27;);

  if (!this.server.type || [&#x27;udp&#x27;, &#x27;tcp&#x27;].indexOf(this.server.type) === -1)
    this.server.type = &#x27;udp&#x27;;

  if (!this.server.port)
    this.server.port = 53;

  this.timeout = opts.timeout || 4 * 1000;
  this.try_edns = opts.try_edns || false;

  this.fired = false;
  this.id = undefined;

  if (opts.cache || opts.cache === false) {
    this.cache = opts.cache;
  } else {
    this.cache = platform.cache;
  }
  debug(&#x27;request created&#x27;, this.question);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var question = dns.Question({
name: &#x27;www.google.com&#x27;,
type: &#x27;A&#x27;,
});

var start = Date.now();

var req = dns.<span class="apidocCodeKeywordSpan">Request</span>({
question: question,
server: { address: &#x27;8.8.8.8&#x27;, port: 53, type: &#x27;udp&#x27; },
timeout: 1000,
});

req.on(&#x27;timeout&#x27;, function () {
console.log(&#x27;Timeout in making request&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.SOA" id="apidoc.element.native-dns.SOA">
        function <span class="apidocSignatureSpan">native-dns.</span>SOA
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SOA = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.SRV" id="apidoc.element.native-dns.SRV">
        function <span class="apidocSignatureSpan">native-dns.</span>SRV
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">SRV = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.TLSA" id="apidoc.element.native-dns.TLSA">
        function <span class="apidocSignatureSpan">native-dns.</span>TLSA
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">TLSA = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.TXT" id="apidoc.element.native-dns.TXT">
        function <span class="apidocSignatureSpan">native-dns.</span>TXT
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">TXT = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.nameToQtype(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.createServer" id="apidoc.element.native-dns.createServer">
        function <span class="apidocSignatureSpan">native-dns.</span>createServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createServer = function (opts) {
  return new UDPServer(opts || {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Server
------

There is also a rudimentary server implementation

```javascript
var dns = require(&#x27;../dns&#x27;),
server = dns.<span class="apidocCodeKeywordSpan">createServer</span>();

server.on(&#x27;request&#x27;, function (request, response) {
//console.log(request)
response.answer.push(dns.A({
  name: request.question[0].name,
  address: &#x27;127.0.0.1&#x27;,
  ttl: 600,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.createTCPServer" id="apidoc.element.native-dns.createTCPServer">
        function <span class="apidocSignatureSpan">native-dns.</span>createTCPServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTCPServer = function (opts) {
  return new TCPServer(opts || {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.createUDPServer" id="apidoc.element.native-dns.createUDPServer">
        function <span class="apidocSignatureSpan">native-dns.</span>createUDPServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUDPServer = function (opts) {
  return exports.createServer(opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.lookup" id="apidoc.element.native-dns.lookup">
        function <span class="apidocSignatureSpan">native-dns.</span>lookup
        <span class="apidocSignatureSpan">(domain, family, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lookup = function (domain, family, callback) {
  var rrtype, revip, res;

  if (!callback) {
    callback = family;
    family = undefined;
  }

  if (!family) {
    family = 4;
  }

  revip = net.isIP(domain);

  if (revip === 4 || revip === 6) {
    process.nextTick(function() {
      callback(null, domain, revip);
    });
    return {};
  }

  if (!domain) {
    process.nextTick(function() {
      callback(null, null, family);
    });
    return {};
  }

  rrtype = consts.FAMILY_TO_QTYPE[family];

  var opts = {
    domain: domain,
    rrtype: rrtype
  };

  res = new Lookup(opts);

  res._cb = function(err, response) {
    var i, afamily, address, a, all;

    if (err) {
      callback(err, undefined, undefined);
      return;
    }

    all = response.answer.concat(response.additional);

    for (i = 0; i &#x3c; all.length; i++) {
      a = all[i];

      if (a.type === A || a.type === AAAA) {
        afamily = consts.QTYPE_TO_FAMILY[a.type];
        address = a.address;
        break;
      }
    }

    callback(err, address, afamily);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Request.prototype.send = function() {
  debug(&#x27;request starting&#x27;, this.question);
  var self = this;

  if (this.cache &#x26;&#x26; this.cache.lookup) {
    this.cache.<span class="apidocCodeKeywordSpan">lookup</span>(this.question, function(results) {
var packet;

if (!results) {
  self._send();
} else {
  packet = new Packet();
  packet.answer = results.slice();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.packet" id="apidoc.element.native-dns.packet">
        function <span class="apidocSignatureSpan">native-dns.</span>packet
        <span class="apidocSignatureSpan">(socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">packet = function (socket) {
  NDP.call(this);
  this.address = undefined;
  this._socket = socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolve" id="apidoc.element.native-dns.resolve">
        function <span class="apidocSignatureSpan">native-dns.</span>resolve
        <span class="apidocSignatureSpan">(domain, rrtype, ip, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (domain, rrtype, ip, callback) {
  var res;

  if (!callback) {
    callback = ip;
    ip = undefined;
  }

  if (!callback) {
    callback = rrtype;
    rrtype = undefined;
  }

  rrtype = consts.NAME_TO_QTYPE[rrtype || &#x27;A&#x27;];

  if (rrtype === PTR) {
    return reverse(domain, callback);
  }

  var opts = {
    domain: domain,
    rrtype: rrtype,
    remote: ip,
  };

  res = new Resolve(opts);

  res._cb = function(err, response) {
    var ret = [], i, a;

    if (err) {
      callback(err, response);
      return;
    }

    for (i = 0; i &#x3c; response.answer.length; i++) {
      a = response.answer[i];
      if (a.type === rrtype) {
        switch (rrtype) {
          case A:
          case AAAA:
            ret.push(a.address);
            break;
          case consts.NAME_TO_QTYPE.MX:
            ret.push({
              priority: a.priority,
              exchange: a.exchange
            });
            break;
          case TXT:
          case NS:
          case CNAME:
          case PTR:
            ret.push(a.data);
            break;
          case SRV:
            ret.push({
              priority: a.priority,
              weight: a.weight,
              port: a.port,
              name: a.target
            });
            break;
          default:
            ret.push(a);
            break;
        }
      }
    }

    if (ret.length === 0) {
      ret = undefined;
    }

    callback(err, ret);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Bench.prototype.query = function() {
var self = this;

if (this.dispatched &#x3c; this.count) {
  this.dispatched += 1;
  this.library.<span class="apidocCodeKeywordSpan">resolve</span>(names[this.dispatched % names.length], &#x27;A&#x27;, function
 (err, res) {
    self.done = Date.now();
    if (err) {
      self.count = 0;
      console.log(err);
      console.log(err.stack);
      self.end();
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolve4" id="apidoc.element.native-dns.resolve4">
        function <span class="apidocSignatureSpan">native-dns.</span>resolve4
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve4 = function (domain, callback) {
  return resolve(domain, &#x27;A&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolve6" id="apidoc.element.native-dns.resolve6">
        function <span class="apidocSignatureSpan">native-dns.</span>resolve6
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve6 = function (domain, callback) {
  return resolve(domain, &#x27;AAAA&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolveCname" id="apidoc.element.native-dns.resolveCname">
        function <span class="apidocSignatureSpan">native-dns.</span>resolveCname
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveCname = function (domain, callback) {
  return resolve(domain, &#x27;CNAME&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolveMx" id="apidoc.element.native-dns.resolveMx">
        function <span class="apidocSignatureSpan">native-dns.</span>resolveMx
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveMx = function (domain, callback) {
  return resolve(domain, &#x27;MX&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolveNs" id="apidoc.element.native-dns.resolveNs">
        function <span class="apidocSignatureSpan">native-dns.</span>resolveNs
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveNs = function (domain, callback) {
  return resolve(domain, &#x27;NS&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolveSrv" id="apidoc.element.native-dns.resolveSrv">
        function <span class="apidocSignatureSpan">native-dns.</span>resolveSrv
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveSrv = function (domain, callback) {
  return resolve(domain, &#x27;SRV&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.resolveTxt" id="apidoc.element.native-dns.resolveTxt">
        function <span class="apidocSignatureSpan">native-dns.</span>resolveTxt
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveTxt = function (domain, callback) {
  return resolve(domain, &#x27;TXT&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.reverse" id="apidoc.element.native-dns.reverse">
        function <span class="apidocSignatureSpan">native-dns.</span>reverse
        <span class="apidocSignatureSpan">(ip, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reverse = function (ip, callback) {
  var error, opts, res;

  if (!net.isIP(ip)) {
    error = new Error(&#x27;getHostByAddr ENOTIMP&#x27;);
    error.errno = error.code = &#x27;ENOTIMP&#x27;;
    throw error;
  }

  opts = {
    domain: utils.reverseIP(ip),
    rrtype: PTR
  };

  res = new Lookup(opts);

  res._cb = function(err, response) {
    var results = [];

    if (response) {
      response.answer.forEach(function(a) {
        if (a.type === PTR) {
          results.push(a.data);
        }
      });
    }

    if (results.length === 0) {
      results = undefined;
    }

    callback(err, results);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    this._server_list.push(u);
    this._server_list.push(t);

    tries += 1;
  }

  this._server_list.<span class="apidocCodeKeywordSpan">reverse</span>();
};

Resolve.prototype._popServer = function() {
  debug(&#x27;resolve pop server&#x27;, this._current_server, this._domain);
  this._server_list.splice(0, 1, this._current_server);
};
...</pre></li>
    </ul>










































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.Request" id="apidoc.module.native-dns.Request">module native-dns.Request</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.Request.Request" id="apidoc.element.native-dns.Request.Request">
        function <span class="apidocSignatureSpan">native-dns.</span>Request
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Request = function (opts) {
  if (!(this instanceof Request)) return new Request(opts);

  this.question = opts.question;
  this.server = opts.server;

  if (typeof(this.server) === &#x27;string&#x27; || this.server instanceof String)
    this.server = { address: this.server, port: 53, type: &#x27;udp&#x27;};

  if (!this.server || !this.server.address || !net.isIP(this.server.address))
    throw new Error(&#x27;Server object must be supplied with at least address&#x27;);

  if (!this.server.type || [&#x27;udp&#x27;, &#x27;tcp&#x27;].indexOf(this.server.type) === -1)
    this.server.type = &#x27;udp&#x27;;

  if (!this.server.port)
    this.server.port = 53;

  this.timeout = opts.timeout || 4 * 1000;
  this.try_edns = opts.try_edns || false;

  this.fired = false;
  this.id = undefined;

  if (opts.cache || opts.cache === false) {
    this.cache = opts.cache;
  } else {
    this.cache = platform.cache;
  }
  debug(&#x27;request created&#x27;, this.question);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var question = dns.Question({
name: &#x27;www.google.com&#x27;,
type: &#x27;A&#x27;,
});

var start = Date.now();

var req = dns.<span class="apidocCodeKeywordSpan">Request</span>({
question: question,
server: { address: &#x27;8.8.8.8&#x27;, port: 53, type: &#x27;udp&#x27; },
timeout: 1000,
});

req.on(&#x27;timeout&#x27;, function () {
console.log(&#x27;Timeout in making request&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.super_" id="apidoc.element.native-dns.Request.super_">
        function <span class="apidocSignatureSpan">native-dns.Request.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.Request.prototype" id="apidoc.module.native-dns.Request.prototype">module native-dns.Request.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype._send" id="apidoc.element.native-dns.Request.prototype._send">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>_send
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_send = function () {
  debug(&#x27;request not in cache&#x27;, this.question);
  var self = this;

  this.timer_ = setTimeout(function() {
    self.handleTimeout();
  }, this.timeout);

  PendingRequests.send(self);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var self = this;

if (this.cache &#x26;&#x26; this.cache.lookup) {
  this.cache.lookup(this.question, function(results) {
    var packet;

    if (!results) {
      self.<span class="apidocCodeKeywordSpan">_send</span>();
    } else {
      packet = new Packet();
      packet.answer = results.slice();
      self.handle(null, packet, true);
    }
  });
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.cancel" id="apidoc.element.native-dns.Request.prototype.cancel">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>cancel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cancel = function () {
  debug(&#x27;request cancelled&#x27;, this.id, this.question);
  this.emit(&#x27;cancelled&#x27;);
  this.done();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this.start();
}
};
util.inherits(Resolve, EventEmitter);

Resolve.prototype.cancel = function() {
if (this._request) {
  this._request.<span class="apidocCodeKeywordSpan">cancel</span>();
}
};

Resolve.prototype._buildQuestion = function(name) {
debug(&#x27;building question&#x27;, name);
this.question = {
  type: this._rrtype,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.done" id="apidoc.element.native-dns.Request.prototype.done">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>done
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">done = function () {
  debug(&#x27;request finished&#x27;, this.id, this.question);
  this.fired = true;
  clearTimeout(this.timer_);
  PendingRequests.remove(this);
  this.emit(&#x27;end&#x27;);
  this.id = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  debug(&#x27;request handled&#x27;, this.id, this.question);

  if (!cached &#x26;&#x26; this.cache &#x26;&#x26; this.cache.store &#x26;&#x26; answer) {
    this.cache.store(answer);
  }

  this.emit(&#x27;message&#x27;, err, answer);
  this.<span class="apidocCodeKeywordSpan">done</span>();
}
};

Request.prototype.done = function() {
debug(&#x27;request finished&#x27;, this.id, this.question);
this.fired = true;
clearTimeout(this.timer_);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.error" id="apidoc.element.native-dns.Request.prototype.error">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>error
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (err) {
  if (!this.fired) {
    debug(&#x27;request error&#x27;, err, this.id, this.question);
    this.emit(&#x27;error&#x27;, err);
    this.done();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var library_name = argv[0].toLowerCase();
var concurrent = parseInt(argv[1]);
var queries = parseInt(argv[2]);

if ([&#x27;stock&#x27;, &#x27;native-dns&#x27;].indexOf(library_name) === -1) {
opt.showHelp();
console.<span class="apidocCodeKeywordSpan">error</span>(&#x27;library should be one of: stock, native-dns\r\n&#x27;);
process.exit(1);
}

if (isNaN(concurrent) || isNaN(queries)) {
opt.showHelp();
console.error(&#x27;concurrency and queries should be integers&#x27;);
process.exit(1);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.handle" id="apidoc.element.native-dns.Request.prototype.handle">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>handle
        <span class="apidocSignatureSpan">(err, answer, cached)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handle = function (err, answer, cached) {
  if (!this.fired) {
    debug(&#x27;request handled&#x27;, this.id, this.question);

    if (!cached &#x26;&#x26; this.cache &#x26;&#x26; this.cache.store &#x26;&#x26; answer) {
      this.cache.store(answer);
    }

    this.emit(&#x27;message&#x27;, err, answer);
    this.done();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      var packet;

      if (!results) {
        self._send();
      } else {
        packet = new Packet();
        packet.answer = results.slice();
        self.<span class="apidocCodeKeywordSpan">handle</span>(null, packet, true);
      }
    });
  } else {
    this._send();
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.handleTimeout" id="apidoc.element.native-dns.Request.prototype.handleTimeout">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>handleTimeout
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">handleTimeout = function () {
  if (!this.fired) {
    debug(&#x27;request timedout&#x27;, this.id, this.question);
    this.emit(&#x27;timeout&#x27;);
    this.done();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Request.prototype._send = function() {
debug(&#x27;request not in cache&#x27;, this.question);
var self = this;

this.timer_ = setTimeout(function() {
  self.<span class="apidocCodeKeywordSpan">handleTimeout</span>();
}, this.timeout);

PendingRequests.send(self);
};

Request.prototype.cancel = function() {
debug(&#x27;request cancelled&#x27;, this.id, this.question);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.Request.prototype.send" id="apidoc.element.native-dns.Request.prototype.send">
        function <span class="apidocSignatureSpan">native-dns.Request.prototype.</span>send
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function () {
  debug(&#x27;request starting&#x27;, this.question);
  var self = this;

  if (this.cache &#x26;&#x26; this.cache.lookup) {
    this.cache.lookup(this.question, function(results) {
      var packet;

      if (!results) {
        self._send();
      } else {
        packet = new Packet();
        packet.answer = results.slice();
        self.handle(null, packet, true);
      }
    });
  } else {
    this._send();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

req.on(&#x27;end&#x27;, function () {
 var delta = (Date.now()) - start;
 console.log(&#x27;Finished processing request: &#x27; + delta.toString() + &#x27;ms&#x27;);
});

req.<span class="apidocCodeKeywordSpan">send</span>();
```

Request creation takes an object with the following fields

* `question` -- an instance of Question (required)
* `server` -- defines the remote end point (required)
 - as an object it should be
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.client" id="apidoc.module.native-dns.client">module native-dns.client</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.client.Request" id="apidoc.element.native-dns.client.Request">
        function <span class="apidocSignatureSpan">native-dns.client.</span>Request
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Request = function (opts) {
  if (!(this instanceof Request)) return new Request(opts);

  this.question = opts.question;
  this.server = opts.server;

  if (typeof(this.server) === &#x27;string&#x27; || this.server instanceof String)
    this.server = { address: this.server, port: 53, type: &#x27;udp&#x27;};

  if (!this.server || !this.server.address || !net.isIP(this.server.address))
    throw new Error(&#x27;Server object must be supplied with at least address&#x27;);

  if (!this.server.type || [&#x27;udp&#x27;, &#x27;tcp&#x27;].indexOf(this.server.type) === -1)
    this.server.type = &#x27;udp&#x27;;

  if (!this.server.port)
    this.server.port = 53;

  this.timeout = opts.timeout || 4 * 1000;
  this.try_edns = opts.try_edns || false;

  this.fired = false;
  this.id = undefined;

  if (opts.cache || opts.cache === false) {
    this.cache = opts.cache;
  } else {
    this.cache = platform.cache;
  }
  debug(&#x27;request created&#x27;, this.question);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var question = dns.Question({
name: &#x27;www.google.com&#x27;,
type: &#x27;A&#x27;,
});

var start = Date.now();

var req = dns.<span class="apidocCodeKeywordSpan">Request</span>({
question: question,
server: { address: &#x27;8.8.8.8&#x27;, port: 53, type: &#x27;udp&#x27; },
timeout: 1000,
});

req.on(&#x27;timeout&#x27;, function () {
console.log(&#x27;Timeout in making request&#x27;);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.Resolve" id="apidoc.element.native-dns.client.Resolve">
        function <span class="apidocSignatureSpan">native-dns.client.</span>Resolve
        <span class="apidocSignatureSpan">(opts, cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Resolve(opts, cb) {
  if (!(this instanceof Resolve)) return new Resolve(opts, cb);

  this.opts = util._extend({
    retryOnTruncate: true,
  }, opts);

  this._domain = opts.domain;
  this._rrtype = opts.rrtype;

  this._buildQuestion(this._domain);

  this._started = false;
  this._current_server = undefined;

  this._server_list = [];

  if (opts.remote) {
    this._server_list.push({
      address: opts.remote,
      port: 53,
      type: &#x27;tcp&#x27;,
    });
    this._server_list.push({
      address: opts.remote,
      port: 53,
      type: &#x27;udp&#x27;,
    });
  }

  this._request = undefined;
  this._type = &#x27;getHostByName&#x27;;
  this._cb = cb;

  if (!platform.ready) {
    _queue.push(this);
  } else {
    this.start();
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.lookup" id="apidoc.element.native-dns.client.lookup">
        function <span class="apidocSignatureSpan">native-dns.client.</span>lookup
        <span class="apidocSignatureSpan">(domain, family, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">lookup = function (domain, family, callback) {
  var rrtype, revip, res;

  if (!callback) {
    callback = family;
    family = undefined;
  }

  if (!family) {
    family = 4;
  }

  revip = net.isIP(domain);

  if (revip === 4 || revip === 6) {
    process.nextTick(function() {
      callback(null, domain, revip);
    });
    return {};
  }

  if (!domain) {
    process.nextTick(function() {
      callback(null, null, family);
    });
    return {};
  }

  rrtype = consts.FAMILY_TO_QTYPE[family];

  var opts = {
    domain: domain,
    rrtype: rrtype
  };

  res = new Lookup(opts);

  res._cb = function(err, response) {
    var i, afamily, address, a, all;

    if (err) {
      callback(err, undefined, undefined);
      return;
    }

    all = response.answer.concat(response.additional);

    for (i = 0; i &#x3c; all.length; i++) {
      a = all[i];

      if (a.type === A || a.type === AAAA) {
        afamily = consts.QTYPE_TO_FAMILY[a.type];
        address = a.address;
        break;
      }
    }

    callback(err, address, afamily);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Request.prototype.send = function() {
  debug(&#x27;request starting&#x27;, this.question);
  var self = this;

  if (this.cache &#x26;&#x26; this.cache.lookup) {
    this.cache.<span class="apidocCodeKeywordSpan">lookup</span>(this.question, function(results) {
var packet;

if (!results) {
  self._send();
} else {
  packet = new Packet();
  packet.answer = results.slice();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolve" id="apidoc.element.native-dns.client.resolve">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolve
        <span class="apidocSignatureSpan">(domain, rrtype, ip, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve = function (domain, rrtype, ip, callback) {
  var res;

  if (!callback) {
    callback = ip;
    ip = undefined;
  }

  if (!callback) {
    callback = rrtype;
    rrtype = undefined;
  }

  rrtype = consts.NAME_TO_QTYPE[rrtype || &#x27;A&#x27;];

  if (rrtype === PTR) {
    return reverse(domain, callback);
  }

  var opts = {
    domain: domain,
    rrtype: rrtype,
    remote: ip,
  };

  res = new Resolve(opts);

  res._cb = function(err, response) {
    var ret = [], i, a;

    if (err) {
      callback(err, response);
      return;
    }

    for (i = 0; i &#x3c; response.answer.length; i++) {
      a = response.answer[i];
      if (a.type === rrtype) {
        switch (rrtype) {
          case A:
          case AAAA:
            ret.push(a.address);
            break;
          case consts.NAME_TO_QTYPE.MX:
            ret.push({
              priority: a.priority,
              exchange: a.exchange
            });
            break;
          case TXT:
          case NS:
          case CNAME:
          case PTR:
            ret.push(a.data);
            break;
          case SRV:
            ret.push({
              priority: a.priority,
              weight: a.weight,
              port: a.port,
              name: a.target
            });
            break;
          default:
            ret.push(a);
            break;
        }
      }
    }

    if (ret.length === 0) {
      ret = undefined;
    }

    callback(err, ret);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};

Bench.prototype.query = function() {
var self = this;

if (this.dispatched &#x3c; this.count) {
  this.dispatched += 1;
  this.library.<span class="apidocCodeKeywordSpan">resolve</span>(names[this.dispatched % names.length], &#x27;A&#x27;, function
 (err, res) {
    self.done = Date.now();
    if (err) {
      self.count = 0;
      console.log(err);
      console.log(err.stack);
      self.end();
    } else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolve4" id="apidoc.element.native-dns.client.resolve4">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolve4
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve4 = function (domain, callback) {
  return resolve(domain, &#x27;A&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolve6" id="apidoc.element.native-dns.client.resolve6">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolve6
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolve6 = function (domain, callback) {
  return resolve(domain, &#x27;AAAA&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveCname" id="apidoc.element.native-dns.client.resolveCname">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveCname
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveCname = function (domain, callback) {
  return resolve(domain, &#x27;CNAME&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveMx" id="apidoc.element.native-dns.client.resolveMx">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveMx
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveMx = function (domain, callback) {
  return resolve(domain, &#x27;MX&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveNs" id="apidoc.element.native-dns.client.resolveNs">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveNs
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveNs = function (domain, callback) {
  return resolve(domain, &#x27;NS&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveSrv" id="apidoc.element.native-dns.client.resolveSrv">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveSrv
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveSrv = function (domain, callback) {
  return resolve(domain, &#x27;SRV&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveTlsa" id="apidoc.element.native-dns.client.resolveTlsa">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveTlsa
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveTlsa = function (domain, callback) {
  return resolve(domain, &#x27;TLSA&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.resolveTxt" id="apidoc.element.native-dns.client.resolveTxt">
        function <span class="apidocSignatureSpan">native-dns.client.</span>resolveTxt
        <span class="apidocSignatureSpan">(domain, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveTxt = function (domain, callback) {
  return resolve(domain, &#x27;TXT&#x27;, function(err, results) {
    callback(err, results);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.client.reverse" id="apidoc.element.native-dns.client.reverse">
        function <span class="apidocSignatureSpan">native-dns.client.</span>reverse
        <span class="apidocSignatureSpan">(ip, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reverse = function (ip, callback) {
  var error, opts, res;

  if (!net.isIP(ip)) {
    error = new Error(&#x27;getHostByAddr ENOTIMP&#x27;);
    error.errno = error.code = &#x27;ENOTIMP&#x27;;
    throw error;
  }

  opts = {
    domain: utils.reverseIP(ip),
    rrtype: PTR
  };

  res = new Lookup(opts);

  res._cb = function(err, response) {
    var results = [];

    if (response) {
      response.answer.forEach(function(a) {
        if (a.type === PTR) {
          results.push(a.data);
        }
      });
    }

    if (results.length === 0) {
      results = undefined;
    }

    callback(err, results);
  };

  return res;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

    this._server_list.push(u);
    this._server_list.push(t);

    tries += 1;
  }

  this._server_list.<span class="apidocCodeKeywordSpan">reverse</span>();
};

Resolve.prototype._popServer = function() {
  debug(&#x27;resolve pop server&#x27;, this._current_server, this._domain);
  this._server_list.splice(0, 1, this._current_server);
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.consts" id="apidoc.module.native-dns.consts">module native-dns.consts</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.consts.nameToQtype" id="apidoc.element.native-dns.consts.nameToQtype">
        function <span class="apidocSignatureSpan">native-dns.consts.</span>nameToQtype
        <span class="apidocSignatureSpan">(n)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">nameToQtype = function (n) {
  return NAME_TO_QTYPE[n.toUpperCase()];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
&#x27;SRV&#x27;,
&#x27;SOA&#x27;,
&#x27;TLSA&#x27;,
].forEach(function (type) {
exports[type] = function (opts) {
  var obj = {};
  opts = opts || {};
  obj.type = consts.<span class="apidocCodeKeywordSpan">nameToQtype</span>(type);
  obj.class = consts.NAME_TO_QCLASS.IN;
  Object.keys(opts).forEach(function (k) {
    if (opts.hasOwnProperty(k) &#x26;&#x26; [&#x27;type&#x27;, &#x27;class&#x27;].indexOf(k) == -1) {
      obj[k] = opts[k];
    }
  });
  return obj;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.consts.qtypeToName" id="apidoc.element.native-dns.consts.qtypeToName">
        function <span class="apidocSignatureSpan">native-dns.consts.</span>qtypeToName
        <span class="apidocSignatureSpan">(t)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">qtypeToName = function (t) {
  return exports.QTYPE_TO_NAME[t];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.packet" id="apidoc.module.native-dns.packet">module native-dns.packet</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.packet.packet" id="apidoc.element.native-dns.packet.packet">
        function <span class="apidocSignatureSpan">native-dns.</span>packet
        <span class="apidocSignatureSpan">(socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">packet = function (socket) {
  NDP.call(this);
  this.address = undefined;
  this._socket = socket;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.packet.parse" id="apidoc.element.native-dns.packet.parse">
        function <span class="apidocSignatureSpan">native-dns.packet.</span>parse
        <span class="apidocSignatureSpan">(msg, socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (msg, socket) {
  var p = NDP.parse(msg);
  p._socket = socket;
  return p;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  buff = this._socket.buffer(size);
  len = Packet.write(buff, this);
  this._socket.send(len);
};

Packet.parse = function (msg, socket) {
  var p = NDP.<span class="apidocCodeKeywordSpan">parse</span>(msg);
  p._socket = socket;
  return p;
};

Packet.write = NDP.write;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.packet.super_" id="apidoc.element.native-dns.packet.super_">
        function <span class="apidocSignatureSpan">native-dns.packet.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">super_ = function () {
  this.header = {
    id: 0,
    qr: 0,
    opcode: 0,
    aa: 0,
    tc: 0,
    rd: 1,
    ra: 0,
    res1: 0,
    res2: 0,
    res3: 0,
    rcode: 0
  };
  this.question = [];
  this.answer = [];
  this.authority = [];
  this.additional = [];
  this.edns_options = [];   // TODO: DEPRECATED! Use `.edns.options` instead!
  this.payload = undefined; // TODO: DEPRECATED! Use `.edns.payload` instead!
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.packet.write" id="apidoc.element.native-dns.packet.write">
        function <span class="apidocSignatureSpan">native-dns.packet.</span>write
        <span class="apidocSignatureSpan">(buff, packet)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">write = function (buff, packet) {
  var state = WRITE_HEADER,
      val,
      section,
      count,
      rdata,
      last_resource,
      label_index = {};

  buff = new BufferCursor(buff);

  // the existence of &#x27;edns&#x27; in a packet indicates that a proper OPT record exists
  // in &#x27;additional&#x27; and that all of the other fields in packet (that are parsed by
  // &#x27;parseOpt&#x27;) are properly set. If it does not exist, we assume that the user
  // is requesting that we create one for them.
  if (typeof packet.edns_version !== &#x27;undefined&#x27; &#x26;&#x26; typeof packet.edns === &#x22;undefined&#x22;)
    state = makeEdns(packet);

  // TODO: this is unnecessarily inefficient. rewrite this using a
  //       function table instead. (same for Packet.parse too).
  while (true) {
    try {
      switch (state) {
        case WRITE_HEADER:
          state = writeHeader(buff, packet);
          break;
        case WRITE_TRUNCATE:
          state = writeTruncate(buff, packet, section, last_resource);
          break;
        case WRITE_QUESTION:
          state = writeQuestion(buff, packet.question[0], label_index);
          section = &#x27;answer&#x27;;
          count = 0;
          break;
        case WRITE_RESOURCE_RECORD:
          last_resource = buff.tell();
          if (packet[section].length == count) {
            switch (section) {
              case &#x27;answer&#x27;:
                section = &#x27;authority&#x27;;
                state = WRITE_RESOURCE_RECORD;
                break;
              case &#x27;authority&#x27;:
                section = &#x27;additional&#x27;;
                state = WRITE_RESOURCE_RECORD;
                break;
              case &#x27;additional&#x27;:
                state = WRITE_END;
                break;
            }
            count = 0;
          } else {
            state = WRITE_RESOURCE_WRITE;
          }
          break;
        case WRITE_RESOURCE_WRITE:
          rdata = {};
          val = packet[section][count];
          state = writeResource(buff, val, label_index, rdata);
          break;
        case WRITE_RESOURCE_DONE:
          count += 1;
          state = writeResourceDone(buff, rdata);
          break;
        case WRITE_A:
        case WRITE_AAAA:
          state = writeIp(buff, val);
          break;
        case WRITE_NS:
        case WRITE_CNAME:
        case WRITE_PTR:
          state = writeCname(buff, val, label_index);
          break;
        case WRITE_SPF:
        case WRITE_TXT:
          state = writeTxt(buff, val);
          break;
        case WRITE_MX:
          state = writeMx(buff, val, label_index);
          break;
        case WRITE_SRV:
          state = writeSrv(buff, val, label_index);
          break;
        case WRITE_SOA:
          state = writeSoa(buff, val, label_index);
          break;
        case WRITE_OPT:
          state = writeOpt(buff, val);
          break;
        case WRITE_NAPTR:
          state = writeNaptr(buff, val, label_index);
          break;
        case WRITE_TLSA:
          state = writeTlsa(buff, val);
          break;
        case WRITE_END:
          return buff.tell();
        default:
          if (typeof val.data !== &#x27;object&#x27;)
            throw new Error(&#x27;Packet.write Unknown State: &#x27; + state);
          // write unhandled RR type
          buff.copy(val.data);
          state = WRITE_RESOURCE_DONE;
      }
    } catch (e) {
      if (e instanceof BufferCursorOverflow) {
        state = WRITE_TRUNCATE;
      } else {
        throw e;
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (typeof(this.edns_version) !== &#x27;undefined&#x27;) {
  size = 4096;
}

this.payload = size = size || this._socket.base_size;

buff = this._socket.buffer(size);
len = Packet.<span class="apidocCodeKeywordSpan">write</span>(buff, this);
this._socket.send(len);
};

Packet.parse = function (msg, socket) {
var p = NDP.parse(msg);
p._socket = socket;
return p;
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.packet.prototype" id="apidoc.module.native-dns.packet.prototype">module native-dns.packet.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.packet.prototype.send" id="apidoc.element.native-dns.packet.prototype.send">
        function <span class="apidocSignatureSpan">native-dns.packet.prototype.</span>send
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function () {
  var buff, len, size;

  if (typeof(this.edns_version) !== &#x27;undefined&#x27;) {
    size = 4096;
  }

  this.payload = size = size || this._socket.base_size;

  buff = this._socket.buffer(size);
  len = Packet.write(buff, this);
  this._socket.send(len);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

req.on(&#x27;end&#x27;, function () {
 var delta = (Date.now()) - start;
 console.log(&#x27;Finished processing request: &#x27; + delta.toString() + &#x27;ms&#x27;);
});

req.<span class="apidocCodeKeywordSpan">send</span>();
```

Request creation takes an object with the following fields

* `question` -- an instance of Question (required)
* `server` -- defines the remote end point (required)
 - as an object it should be
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.pending" id="apidoc.module.native-dns.pending">module native-dns.pending</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.pending.remove" id="apidoc.element.native-dns.pending.remove">
        function <span class="apidocSignatureSpan">native-dns.pending.</span>remove
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">remove = function (request) {
  var hash = serverHash(request.server);
  var socket = _sockets[hash];
  if (socket) {
    socket.remove(request);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
};

Request.prototype.done = function() {
debug(&#x27;request finished&#x27;, this.id, this.question);
this.fired = true;
clearTimeout(this.timer_);
PendingRequests.<span class="apidocCodeKeywordSpan">remove</span>(this);
this.emit(&#x27;end&#x27;);
this.id = undefined;
};

Request.prototype.handleTimeout = function() {
if (!this.fired) {
  debug(&#x27;request timedout&#x27;, this.id, this.question);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.pending.send" id="apidoc.element.native-dns.pending.send">
        function <span class="apidocSignatureSpan">native-dns.pending.</span>send
        <span class="apidocSignatureSpan">(request)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (request) {
  var hash = serverHash(request.server);
  var socket = _sockets[hash];

  if (!socket) {
    switch (hash) {
      case &#x27;udp4&#x27;:
      case &#x27;udp6&#x27;:
        socket = new SocketQueue(new UDPSocket(), hash);
        break;
      default:
        socket = new SocketQueue(new TCPSocket(), request.server);
        break;
    }

    socket.on(&#x27;close&#x27;, function() {
      delete _sockets[hash];
    });

    _sockets[hash] = socket;
  }

  socket.send(request);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

req.on(&#x27;end&#x27;, function () {
 var delta = (Date.now()) - start;
 console.log(&#x27;Finished processing request: &#x27; + delta.toString() + &#x27;ms&#x27;);
});

req.<span class="apidocCodeKeywordSpan">send</span>();
```

Request creation takes an object with the following fields

* `question` -- an instance of Question (required)
* `server` -- defines the remote end point (required)
 - as an object it should be
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.server" id="apidoc.module.native-dns.server">module native-dns.server</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.server.createServer" id="apidoc.element.native-dns.server.createServer">
        function <span class="apidocSignatureSpan">native-dns.server.</span>createServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createServer = function (opts) {
  return new UDPServer(opts || {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Server
------

There is also a rudimentary server implementation

```javascript
var dns = require(&#x27;../dns&#x27;),
server = dns.<span class="apidocCodeKeywordSpan">createServer</span>();

server.on(&#x27;request&#x27;, function (request, response) {
//console.log(request)
response.answer.push(dns.A({
  name: request.question[0].name,
  address: &#x27;127.0.0.1&#x27;,
  ttl: 600,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.server.createTCPServer" id="apidoc.element.native-dns.server.createTCPServer">
        function <span class="apidocSignatureSpan">native-dns.server.</span>createTCPServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createTCPServer = function (opts) {
  return new TCPServer(opts || {});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.server.createUDPServer" id="apidoc.element.native-dns.server.createUDPServer">
        function <span class="apidocSignatureSpan">native-dns.server.</span>createUDPServer
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createUDPServer = function (opts) {
  return exports.createServer(opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.native-dns.utils" id="apidoc.module.native-dns.utils">module native-dns.utils</a></h1>


    <h2>
        <a href="#apidoc.element.native-dns.utils.TCPSocket" id="apidoc.element.native-dns.utils.TCPSocket">
        function <span class="apidocSignatureSpan">native-dns.utils.</span>TCPSocket
        <span class="apidocSignatureSpan">(socket)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">TCPSocket = function (socket) {
  UDPSocket.call(this, socket);
  this.base_size = 4096;
  this._rest = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.utils.UDPSocket" id="apidoc.element.native-dns.utils.UDPSocket">
        function <span class="apidocSignatureSpan">native-dns.utils.</span>UDPSocket
        <span class="apidocSignatureSpan">(socket, remote)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">UDPSocket = function (socket, remote) {
  this._socket = socket;
  this._remote = remote;
  this._buff = undefined;
  this.base_size = 512;
  this.bound = false;
  this.unref = undefined;
  this.ref = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.native-dns.utils.reverseIP" id="apidoc.element.native-dns.utils.reverseIP">
        function <span class="apidocSignatureSpan">native-dns.utils.</span>reverseIP
        <span class="apidocSignatureSpan">(ip)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reverseIP = function (ip) {
  var address, kind, reverseip, parts;
  address = ipaddr.parse(ip.split(/%/)[0]);
  kind = address.kind();

  switch (kind) {
    case &#x27;ipv4&#x27;:
      address = address.toByteArray();
      address.reverse();
      reverseip = address.join(&#x27;.&#x27;) + &#x27;.IN-ADDR.ARPA&#x27;;
      break;
    case &#x27;ipv6&#x27;:
      parts = [];
      address.toNormalizedString().split(&#x27;:&#x27;).forEach(function(part) {
        var i, pad = 4 - part.length;
        for (i = 0; i &#x3c; pad; i++) {
          part = &#x27;0&#x27; + part;
        }
        part.split(&#x27;&#x27;).forEach(function(p) {
          parts.push(p);
        });
      });
      parts.reverse();
      reverseip = parts.join(&#x27;.&#x27;) + &#x27;.IP6.ARPA&#x27;;
      break;
  }

  return reverseip;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (!net.isIP(ip)) {
  error = new Error(&#x27;getHostByAddr ENOTIMP&#x27;);
  error.errno = error.code = &#x27;ENOTIMP&#x27;;
  throw error;
}

opts = {
  domain: utils.<span class="apidocCodeKeywordSpan">reverseIP</span>(ip),
  rrtype: PTR
};

res = new Lookup(opts);

res._cb = function(err, response) {
  var results = [];
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
